# Environment Configuration Template
# Copy this file to .env and update with your values

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL="postgresql://username:password@localhost:5432/thmanyah_cms"
DATABASE_POOL_MIN=2                      # Minimum database connections (default: 2)
DATABASE_POOL_MAX=10                     # Maximum database connections (default: 10)

# PostgreSQL Docker Settings (for Docker setup)
POSTGRES_USER=thmanyah                   # PostgreSQL username
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD   # PostgreSQL password (CHANGE IN PRODUCTION!)
POSTGRES_DB=thmanyah_cms                 # PostgreSQL database name
POSTGRES_PORT=5432                       # PostgreSQL port (5433 for dev when using Docker)

# =============================================================================
# JWT Configuration
# =============================================================================
JWT_SECRET="your-secret-key-here"        # Required: JWT signing secret (CHANGE IN PRODUCTION!)
JWT_REFRESH_SECRET="your-refresh-secret" # Required: JWT refresh token secret (CHANGE IN PRODUCTION!)
JWT_ACCESS_TOKEN_EXPIRES_IN=15m          # Access token expiration (default: 15m)
JWT_REFRESH_TOKEN_EXPIRES_IN=7d          # Refresh token expiration (default: 7d)

# =============================================================================
# Server Configuration
# =============================================================================
PORT=3000                                # Server port (default: 3000)
NODE_ENV=development                     # Environment mode (development/production/test/staging)
APP_PORT=3000                            # Application external port (for Docker)

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
THROTTLE_TTL=60                          # Time window in seconds (default: 60)
THROTTLE_LIMIT_PUBLIC=100                # Public endpoint limit per TTL (default: 100)
THROTTLE_LIMIT_AUTHENTICATED=1000        # Authenticated endpoint limit per TTL (default: 1000)  
THROTTLE_LIMIT_SEARCH=30                 # Search endpoint limit per TTL (default: 30)

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=localhost                     # Redis server host (default: localhost, use 'redis' for Docker)
REDIS_PORT=6379                         # Redis server port (default: 6379, 6380 for dev Docker)
REDIS_PASSWORD=                         # Redis password (optional, SET IN PRODUCTION!)
REDIS_DB=0                              # Redis database number (default: 0)

# =============================================================================
# Cache Configuration
# =============================================================================
CACHE_DEFAULT_TTL=300                   # Default cache TTL in seconds (default: 300)
CACHE_DISCOVERY_SEARCH_TTL=300          # Discovery search cache TTL (default: 300)
CACHE_DISCOVERY_BROWSE_TTL=300          # Discovery browse cache TTL (default: 300)
CACHE_DISCOVERY_PROGRAM_TTL=600         # Individual program cache TTL (default: 600)
CACHE_CATEGORIES_LIST_TTL=1800          # Categories list cache TTL (default: 1800)

# =============================================================================
# Pagination Configuration
# =============================================================================
DEFAULT_PAGE_SIZE=20                    # Default pagination page size (default: 20)
MAX_PAGE_SIZE=100                       # Maximum pagination page size (default: 100)

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=info                          # Log level (error/warn/info/debug/verbose, default: info)
LOG_FORMAT=combined                     # Log format (combined/common/dev/short/tiny, default: combined)

# =============================================================================
# Nginx Configuration (Docker production with Nginx)
# =============================================================================
NGINX_PORT=80                           # Nginx HTTP port (default: 80)
NGINX_SSL_PORT=443                      # Nginx HTTPS port (default: 443)

# =============================================================================
# Docker Quick Setup Examples
# =============================================================================
# For Development (using docker-compose.dev.yml):
#   - Copy .env.development and adjust if needed
#   - Database will be at localhost:5433
#   - Redis will be at localhost:6380
#   - Run: make dev
#
# For Production (using docker-compose.yml):
#   - Copy .env.production and UPDATE ALL PASSWORDS
#   - Database and Redis use internal Docker network
#   - Run: make prod-build && make prod
#
# For Local Development (without Docker):
#   - Use localhost for DATABASE_URL and REDIS_HOST
#   - Ensure PostgreSQL and Redis are installed locally
#   - Run: yarn install && yarn start:dev